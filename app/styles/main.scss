// bower:scss
// endbower

body {
  background: #fafafa;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #333;

  &.parent {
    margin: 0 20px;
  }
}

.browsehappy {
  margin: 0.2em 0;
  background: #ccc;
  color: #000;
  padding: 0.2em 0;
}

////////////
// CUSTOM //
////////////
$spectrumblue: #03a6e3;

$black: rgb(0, 0, 0);
$white: rgb(255, 255, 255);
$lightgray: #ddd;
$lightergray: #efefef;
$medgray: #bbb;
$gray: #808080;

$impact: #ff0500;
$green: #00bb6a;
$lightblue: #008db4;
$deepblue: #006196;
$yellow: #f8cf04;

// $halfred: rgba(255, 0, 0, .5);
// $halfgreen: rgba(0, 255, 0, .5);
// $halfblue: rgba(0, 0, 255, .5);

$containerwidth: 940px;
$articlewidth: 620px;
$timelinewidth: 700px;
$summarywidth: $containerwidth - $timelinewidth - 24;
$border1: $black 2px solid;

/////////////////////
// Dev-Only Styles //
/////////////////////
.container {
  margin: 0 auto;
  max-width: $containerwidth;

  &.normal {
    max-width: $articlewidth;
  }
}

.content-area {
  background: $white;
}

.dev-footer {
  text-align: center;

  a, 
  a:visited {
    color: $white;
  }
}

@font-face {
  font-family: "Theinhardt-Regular";
  font-style: normal;
  font-weight: normal;
  src: url("fonts/Theinhardt/Theinhardt-Regular.otf");
}

@font-face {
  font-family: "Theinhardt-Regular";
  font-style: italic;
  font-weight: normal;
  src: url("fonts/Theinhardt/Theinhardt-RegularIta.otf");
}

@font-face {
  font-family: "Theinhardt-Medium";
  font-style: normal;
  font-weight: normal;
  src: url("fonts/Theinhardt/Theinhardt-Medium.otf");
}

@font-face {
  font-family: "Theinhardt-Medium";
  font-style: italic;
  font-weight: normal;
  src: url("fonts/Theinhardt/Theinhardt-MediumIta.otf");
}

@font-face {
  font-family: "Theinhardt-Bold";
  font-style: normal;
  font-weight: normal;
  src: url("fonts/Theinhardt/Theinhardt-Bold.otf");
}

@font-face {
  font-family: "Theinhardt-Bold";
  font-style: italic;
  font-weight: normal;
  src: url("fonts/Theinhardt/Theinhardt-BoldIta.otf");
}

/////////////////
// Real Styles //
/////////////////

// ALL CHARTS

.chart-container {
  font-family: "Theinhardt-Regular", Helvetica, Arial, sans-serif;
  font-size: .9em;
  position: relative;
}

.hidden {
  display: none;
}

.axis path,
.axis line {
  fill: none;
  shape-rendering: crispEdges;
  stroke: $black;
}

.y.axis .tick:first-of-type {
  display: none;
}

.straight-line, 
.legend-line {
  shape-rendering: crispEdges;
  stroke: $medgray;
}


// TIMELINE CHART
// .label {
//   text-transform: capitalize;
// }

@mixin total-button-gradient($base-color: $green, $start-color: $black) {
  background: linear-gradient(to left, $base-color 5%, $start-color);
  background-color: $base-color;
}

// Totals Section
.totals {
  overflow: auto;
  padding-bottom: 1em;

  p {
    font-size: 1.6em;
    margin: 0 20px;

    &:first-child {
      margin-top: 10px;
    }

    &:last-child {
      font-family: "Theinhardt-Regular", Helvetica, Arial, sans-serif; 
      margin-bottom: 10px;
    }
  }  
  
  .total {
    // background-position: center;
    // background-repeat: no-repeat;
    // background-size: contain;
    color: $white;
    cursor: pointer;
    float: left;
    font-family: "Theinhardt-Bold", Helvetica, Arial, sans-serif; 
    height: 105px;
    margin-right: 20px;
    text-align: left;
    // text-shadow: $gray 1px 1px 3px;
    width: 300px;

    &.selected {
      background: $black;
      // outline: 3px $white inset;
      // outline-offset: -3px;
      //-webkit-box-shadow: inset 0 0 120px rgba(245, 245, 245, 0.8);
      //-moz-box-shadow:    inset 0 0 120px rgba(245, 245, 245, 0.8);
      //box-shadow:         inset 0 0 120px rgba(245, 245, 245, 0.8);
    }
  }

  .total:last-child {
    margin-right: 0;
  }

  .money {
    background: $green;
    // background-image: url('../images/iconmonstr-user-14-icon.svg');
    // background-position: center;
    // background-repeat: no-repeat;
    // background-size: contain;

    &.selected {
      outline: 3px $green solid;
      outline-offset: -3px;
    }

    &:hover {
      @include total-button-gradient($green);
      outline: none;
    }
  }

  .time {
    background: $lightblue;
    // background-image: url('../images/iconmonstr-time-3-icon.svg');
    // background-position: center;
    // background-repeat: no-repeat;
    // background-size: contain;

    &.selected {
      outline: 3px $lightblue solid;
      outline-offset: -3px;
    }

    &:hover {
      @include total-button-gradient($lightblue);
      outline: none;
    }
  }

  .people {
    background: $deepblue;
    // background-image: url('../images/iconmonstr-banknote-5-icon.svg');
    // background-position: center;
    // background-repeat: no-repeat;
    // background-size: contain;

    &.selected {
      outline: 3px $deepblue solid;
      outline-offset: -3px;
    }

    &:hover {
      @include total-button-gradient($deepblue);
      outline: none;
    }
  }
}

p.fail-stat {
  font-size: 2.075em;
  margin-bottom: .1em;
  margin-top: .2em;
  text-transform: uppercase;
}

p.instructions {
  font-family: "Theinhardt-Bold", Helvetica, Arial, sans-serif; 
}

// Totals Intro
.totals-intro {
  padding: .5em 0 1em;
}

// Chart Area
.data-point, 
.legend-circle {
  cursor: pointer;
  fill-opacity: .2;  
}

.money {
  .data-point, 
  .legend-circle {
    fill: $green;  
  }
}

.time {
  .data-point, 
  .legend-circle {
    fill: $lightblue;  
  }
}

.people {
  .data-point, 
  .legend-circle {
    fill: $deepblue;  
  }
}

.legend-circle {
  stroke: $medgray;
  stroke-width: 1;
}

.data-point.active {
  fill-opacity: .8;
  stroke: $impact;
  stroke-width: 2;
}

// Info Box Area
.info-box {
  .fail-stat {
    color: $impact;
    margin: 1em 0 .5em;

    &.small {
      font-size: 1.15em;
      margin-top: 0;
    }
  }

  .readmore {
    margin-left: 1em;
    margin-top: 0;
  }

  // &.timeline-chart {
  //   position: absolute;
  //   right: 0;
  //   top: 160px;
  //   width: 220px;
  // }

  &.timeline-chart {
    .isotope-item {
      margin-bottom: 30px;
      margin-left: 20px;
    }

    .fail-stat {
      position: absolute;
      right: 0;
      text-align: left;
      top: 134px;
      width: 220px;
    }
  }

  &.replacements-chart {
    position: absolute;
    right: 60px;
    top: 0;
    width: 380px;
  }

  &.failure-chart {
    padding-bottom: 1em;
  }
}

// .number {
//   font-size: 1.45em;
// }

// Selection Buttons
.category-selection-container {
  left: 20px;
  position: absolute; 
}

.select-category {
  text-align: right;

  button {
    margin-left: 5px;
  }
}

.buttons {
  margin-bottom: 0;
  text-align: center;

  a.button {
    float: none;
    margin: 0 5px;
  }
}

.button {
  cursor: pointer;
}


///////////////////
// Systems Chart //
///////////////////

.marker {
  fill: $impact;

  &.to-date {
    fill: $yellow;
  }
}

.datapoint {
  &.active {
    .line {
      stroke: $gray;
      stroke-width: 3px;
    }
  }

  .line {
    stroke: $black;
    stroke-width: 2px;
  }
}

.start {
  fill: $green;
  stroke: none;
}

.end {
  fill: $impact;
  stroke: none;
}

.to-date {
  fill: $yellow;
  stroke: none;
}

/////////////////////
// Failures Charts //
/////////////////////
.project-selector {
  display: block;
  margin: 0 auto;
  max-width: 100%;

  .placeholder {
    display: none;
  }
}

.chart-title {
  margin-bottom: .5em;
  text-align: center;
}

.initline {
  .line {
    fill: none;
    opacity: .7;
    shape-rendering: crispEdges;
    stroke: $black;
    stroke-dasharray: 5, 5;
    stroke-width: 2px;
  }
}

.area-labels {
  text-anchor: end;
}

.launch .projection:first-child {
  shape-rendering: crispEdges;
  stroke: $black;
  stroke-width: 1px;
}

.area1 {
  .area, 
  .projection {
    fill: $lightgray;
    opacity: .3;
  }

  .initial > .total,
  .initial > .tot-est,
  .initial > .annual-est {
    fill: $green;
    opacity: .3;
  }

  .initial > .dev,
  .initial > .dev-est {
    fill: $green;
    opacity: .3;
  }

  .selected > .total,
  .selected > .tot-est,
  .selected > .annual-est {
    fill: $yellow;
    opacity: .3;
  }

  .selected > .dev,
  .selected > .dev-est {
    fill: $yellow;
    opacity: .3;
  }
}


//////////
// Quiz //
/////////
.quiz {
  font-family: "Theinhardt-Regular", Helvetica, Arial, sans-serif;
  font-size: 18px;

  .instructions {
    float: left;
    margin-right: 20px;
    width: 380px;
  }

  .quiz-controls {
    float: left;
    text-align: right;
    width: 220px;
  }

  .quiz-header {
    overflow: auto;
  }

  .quiz-heading {
    font-family: "Theinhardt-Medium", Helvetica, Arial, sans-serif;
    font-size: 22px;
    margin: 10px 0;
    text-transform: uppercase;
  }
}

.answer>.cause,
.sumtext,
.wrong {
  border: 3px solid $black;
  margin: 10px 0;
  padding: 20px;
}

.answer {
  display: block;

  &.incorrect .cause {
    background-color: $impact;
  } 
}

.causes ul {
  margin: 0;
  padding: 0;
}

.wrong {
  display: none;
}

.answers > li {
  box-sizing: border-box;
}

.answer>.cause,
.sumtext {
  background: $lightgray;
  display: block;
  text-align: center;
}

.impact-summary {
  display: block;
  margin: 10px 0;
  padding: 20px;
  text-align: center;
}

.clickable {
  cursor: pointer;
}

.sumtext>.cause {
  background: $yellow;
  display: inline;
}

.hidden,
.answer .effect {
  display: none;
}

.answer.correct .sumtext, 
.impact-summary.correct {
  background-color: $green;
}


//////////////////
// Old Timeline //
//////////////////
// .timeline {
//   float: right;
//   margin-bottom: 160px;
//   width: $timelinewidth;
// }

// .summary {
//   border: $border1;
//   clear: none;
//   float: right;
//   height: auto;
//   padding: 6px 10px 10px;
//   text-align: left;
//   width: $summarywidth;

//   h3, 
//   p {
//     margin: 0 auto;
//   }

//   p em {
//     font-size: .9em;
//   }

//   .empty {
//     border: 0;
//   }

//   .impact {
//     color: $impact;
//   }

//   .timeline-nav {
//     border-top: $black 2px solid;
//     margin: 10px -10px;
//     overflow: auto;
//     padding: 5px 10px 0;
//     text-align: center;
//   }
// }

// .incident-date {
//   cursor: pointer;

//   .government {
//     color: blue;
//     fill: blue;
//     stroke: blue;
//   }

//   .commercial {
//     color: green;
//     fill: green;
//     stroke: green;
//   }

//   .other {
//     color: black;
//     fill: black;
//     stroke: black;
//   }

//   .customs {
//     fill: orange;
//     stroke: white;
//   }

//   .law {
//       fill: darkred;
//       stroke: white;
//   }

//   .defense {
//       fill: red;
//       stroke: white;
//   }

//   .treasury {
//       fill: yellow;
//       stroke: white;
//   }

//   .IT {
//       fill: darkgreen;
//       stroke: white;
//   }

//   .selected {
//     stroke: darkgray;
//   }
// }

// .prev-incident, .prev-incident-cat {
//   display: block;
//   float: left;
//   width: 30%;
// }
// .next-incident, .next-incident-cat {
//   display: block;
//   float: right;
//   width: 30%;
// }


/////////////////////////////
// Spectrum missing styles //
/////////////////////////////

// Reworked the Spectrum button gradient LESS mixin
// Had to change "top" -> "to top"

@mixin button-gradient($base-color: $spectrumblue) {
  $color-diff: #181818;
  $start-color: $base-color - $color-diff;
  background: linear-gradient(to top, $start-color 50%, $base-color);
  background-color: $start-color;

  &:hover {
    background: linear-gradient(to top, $base-color 40%, $start-color);
  }
}

.button.inactive {
  @include button-gradient($medgray);
}
